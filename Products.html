<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link href="onlinestore.css" rel="stylesheet" />

    <style>
        .products {
            display: inline-block;
            margin: 10px;
        }
    </style>

</head>
<body>
  

    <main>
        <h2>Product Listings</h2>
        <br />
        <nav>
            <ul>
                <li><a href="HomePage.html">Home</a></li>
                <li><a href="Products.html">Products</a></li>
                <li><a href="Contact.html">Contact Us</a></li>

            </ul>
        </nav>
        <hr style="height:2px;border-width:2px;color:gray;background-color:gray" />

        <br />
        <ul class="products">
            <li></li>
            <li></li>
            <li></li>
            <li></li>

            <li>

                <img src="images/battery.jpg" />
                <h3>Battery</h3>
                <p>R699.99</p>
                <button onclick="addToCart('Battery', 699.99)">Buy Now</button>
            </li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>


            <li>
                <img src="images/driveh.jfif" alt="" />
                <h3>Hard Drive</h3>
                <p>R799.99</p>
                <button onclick="addToCart('Hard Drive', 799.99)">Buy Now</button>
            </li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>


            <li>

                <img src="images/lgcharger.jfif" alt="" />
                <h3>LG Charger</h3>
                <p>R509.99</p>

                <button onclick="addToCart('LG Charger', 509.99)">Buy Now</button>>

            </li>
        </ul>
        <br />

        <script>
            //function addToCart(h3, p) {

            //    var newItem = document.createElement('div');
            //    newItem.innerHTML = '<img src="images/battery.jpg" alt=" width="200px" height="200px"' + h3 + '">' +
            //        '<p>' + h3 + ' - R' + p.toFixed(2) + '</p>';

            //    document.getElementById('cart-items').appendChild(newItem);
            //}

            
            let cartItems = [];
            let totalAmount = 0;

            function addToCart(productName, price)
            const existingItem = cartItems.find(item => item.name === productName);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cartItems.push({ name: productName, price, quantity: 1 });
                }

                totalAmount += price;
                updateCartUI();
            }

            function updateCartUI() {
                const cartItemsElement = document.getElementById('cart-items');
                const totalElement = document.getElementById('total');

               
                cartItemsElement.innerHTML = '';

                cartItems.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${item.name} - R${item.price} x ${item.quantity}`;
                    cartItemsElement.appendChild(listItem);
                });
                //totalElement.textContent = totalAmount.toFixed(2);
                var currentTotal = parseFloat(totalAmountElement.textContent);
                var newTotal = currentTotal + price;
                totalAmountElement.textContent = newTotal.toFixed(2);
            }

            function checkout() {
                alert(`Total amount: R${totalAmount.toFixed(2)}`);
            }
        </script>

    </main>
    <br />
    <br />
    <hr />
    <div class="cart">
        <h2>Shopping Cart</h2>
        <ul id="cart-items"></ul>
        <!--<p>Total: R<span id="totalAmount">0</span></p>-->
        <button id="checkoutBtn" onclick="checkout()">Checkout</button>
    </div>
    <footer>
        <div class="container">
            <p>Electronic Online Store Created by Sengwayo</p>
        </div>
    </footer>
</body>

</html>